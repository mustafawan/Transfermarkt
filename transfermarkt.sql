USE transfermarkt;

-- League tablosunun oluşturulması ve verilerin eklenmesi
CREATE TABLE League (
  LeagueID INT PRIMARY KEY AUTO_INCREMENT,
  LName VARCHAR(255),
  Country VARCHAR(255) NOT NULL
);

INSERT INTO League (LeagueID, Country, LName)
VALUES
(1, "Spain", "LaLiga"),
(2, "Turkey", "SuperLig"),
(3, "England", "PremierLeague"),
(4, "Italy", "Serie A"),
(5, "Germany", "Bundesliga"),
(6, "France", "Ligue 1"),
(7, "Portugal", "Primeira Liga"),
(8, "Netherlands", "Eredivisie"),
(9, "Brazil", "Brasileirão"),
(10, "Argentina", "Primera División"),
(11, "Spain", "Segunda División"),
(12, "Turkey", "TFF First League"),
(13, "England", "EFL Championship"),
(14, "Italy", "Serie B"),
(15, "Germany", "2. Bundesliga"),
(16, "France", "Ligue 2"),
(17, "Portugal", "Liga Portugal 2"),
(18, "Netherlands", "Eerste Divisie"),
(19, "Brazil", "Brasileirão Série B"),
(20, "Argentina", "Primera B Nacional");

ALTER TABLE League AUTO_INCREMENT = 21;

-- Team tablosunun oluşturulması ve verilerin eklenmesi
CREATE TABLE Team (
  TeamID INT PRIMARY KEY AUTO_INCREMENT,
  TeamName VARCHAR(255) NOT NULL,
  Country VARCHAR(255) NOT NULL,
  LeagueID INT,
  FOREIGN KEY (LeagueID) REFERENCES League(LeagueID)
);

INSERT INTO Team (TeamID, TeamName, Country, LeagueID)
VALUES
(1, "Real Madrid", "Spain", 1),
(2, "Barcelona", "Spain", 1),
(3, "Atletico Madrid", "Spain", 1),
(4, "Galatasaray", "Turkey", 2),
(5, "Fenerbahce", "Turkey", 2),
(6, "Besiktas", "Turkey", 2),
(7, "Manchester United", "England", 3),
(8, "Arsenal", "England", 3),
(9, "Liverpool", "England", 3),
(10, "Sevilla", "Spain", 1),
(11, "Valencia", "Spain", 1),
(12, "Villarreal", "Spain", 1),
(13, "Real Betis", "Spain", 1),
(14, "Trabzonspor", "Turkey", 2),
(15, "Basaksehir", "Turkey", 2),
(16, "Antalyaspor", "Turkey", 2),
(17, "Sivasspor", "Turkey", 2),
(18, "Chelsea", "England", 3),
(19, "Manchester City", "England", 3),
(20, "Tottenham", "England", 3),
(21, "Leicester City", "England", 3),
(22, "Juventus", "Italy", 4),
(23, "AC Milan", "Italy", 4),
(24, "Inter Milan", "Italy", 4),
(25, "AS Roma", "Italy", 4),
(26, "Napoli", "Italy", 4),
(27, "Bayern Munich", "Germany", 5),
(28, "Borussia Dortmund", "Germany", 5),
(29, "RB Leipzig", "Germany", 5),
(30, "Bayer Leverkusen", "Germany", 5),
(31, "Borussia Monchengladbach", "Germany", 5),
(32, "Paris Saint-Germain", "France", 6),
(33, "Lyon", "France", 6),
(34, "Marseille", "France", 6),
(35, "Lille", "France", 6),
(36, "Monaco", "France", 6),
(37, "Porto", "Portugal", 7),
(38, "Benfica", "Portugal", 7),
(39, "Sporting CP", "Portugal", 7),
(40, "Braga", "Portugal", 7),
(41, "Ajax", "Netherlands", 8),
(42, "PSV Eindhoven", "Netherlands", 8),
(43, "Feyenoord", "Netherlands", 8),
(44, "AZ Alkmaar", "Netherlands", 8),
(45, "Flamengo", "Brazil", 9),
(46, "Palmeiras", "Brazil", 9),
(47, "Santos", "Brazil", 9),
(48, "Corinthians", "Brazil", 9),
(49, "Boca Juniors", "Argentina", 10),
(50, "River Plate", "Argentina", 10);

-- Player tablosunun oluşturulması ve verilerin eklenmesi
CREATE TABLE Player (
  PlayerID INT PRIMARY KEY AUTO_INCREMENT,
  PlayerName VARCHAR(255) NOT NULL,
  Nation VARCHAR(255) NOT NULL,
  TeamID INT,
  Position VARCHAR(50),
  FOREIGN KEY (TeamID) REFERENCES Team(TeamID)
);

INSERT INTO Player (PlayerID, PlayerName, Nation, TeamID, Position)
VALUES
(1, "Arda Güler", "Turkey", 1, "RW"),
(2, "Luka Modric", "Croatia", 1, "CM"),
(3, "Vinicius JR", "Brazil", 1, "LW"),
(4, "Toni Kroos", "Germany", 1, "CM"),
(5, "Eduardo Camavinga", "France", 1, "CM"),
(6, "Ilkay Gundogan", "Germany", 2, "CM"),
(7, "Robert Lewandowski", "Poland", 2, "ST"),
(8, "Joao Felix", "Portugal", 2, "LW"),
(9, "Ronald Araujo", "Uruguay", 2, "CB"),
(10, "Frenkie de Jong", "Netherlands", 2, "CM"),
(11, "Antoine Griezmann", "France", 3, "CF"),
(12, "Marcos Llorente", "Spain", 3, "RB"),
(13, "Rodrigo De Paul", "Argentina", 3, "CM"),
(14, "Alvaro Morata", "Spain", 3, "ST"),
(15, "Memphis Depay", "Netherlands", 3, "ST"),
(16, "Mauro Icardi", "Argentina", 4, "ST"),
(17, "Dries Mertens", "Belgium", 4, "CAM"),
(18, "Lucas Torreira", "Uruguay", 4, "CDM"),
(19, "Baris Alper Yilmaz", "Turkey", 4, "LW"),
(20, "Ilke Danis", "Turkey", 4, "LW"),
(21, "Demirhan Noyan", "Turkey", 5, "CDM"),
(22, "Dusan Tadic", "Serbia", 5, "LM"),
(23, "Edin Dzeko", "Bosnia and Herzegovina", 5, "ST"),
(24, "Irfancan Kahveci", "Turkey", 5, "RW"),
(25, "Ferdi Kadıoğlu", "Turkey", 5, "LB"),
(26, "Burkay Gursel", "Turkey", 6, "CAM"),
(27, "Necip Uysal", "Turkey", 6, "CB"),
(28, "Gedson Fernandes", "Portugal", 6, "CM"),
(29, "Mustafa Vanlioglu", "Turkey", 6, "RW"),
(30, "Cenk Tosun", "Turkey", 6, "ST"),
(31, "Marcus Rashford", "England", 7, "LW"),
(32, "Scott McTominay", "Scotland", 7, "CM"),
(33, "Bruno Fernandes", "Portugal", 7, "CAM"),
(34, "Anthony Martial", "France", 7, "LW"),
(35, "Raphael Varane", "France", 7, "CB"),
(36, "Martin Odegaard", "Norway", 8, "CAM"),
(37, "Gabriel Jesus", "Brazil", 8, "ST"),
(38, "Thomas Partey", "Ghana", 8, "CDM"),
(39, "Bukayo Saka", "England", 8, "RW"),
(40, "Declan Rice", "England", 8, "CDM"),
(41, "Virgil van Dijk", "Netherlands", 9, "CB"),
(42, "Mohamed Salah", "Egypt", 9, "RW"),
(43, "Trent Alexander-Arnold", "England", 9, "RB"),
(44, "Thiago Alcantara", "Spain", 9, "CM"),
(45, "Darwin Nunes", "Uruguay", 9, "ST"),
(46, "Federico Valverde", "Uruguay", 1, "CM"),
(47, "Thibaut Courtois", "Belgium", 1, "GK"),
(48, "David Alaba", "Austria", 1, "CB"),
(49, "Eder Militao", "Brazil", 1, "CB"),
(50, "Ferland Mendy", "France", 1, "LB"),
(51, "Pedri", "Spain", 2, "CM"),
(52, "Gavi", "Spain", 2, "CM"),
(53, "Marc-Andre ter Stegen", "Germany", 2, "GK"),
(54, "Jules Kounde", "France", 2, "RB"),
(55, "Andreas Christensen", "Denmark", 2, "CB"),
(56, "Jan Oblak", "Slovenia", 3, "GK"),
(57, "Jose Gimenez", "Uruguay", 3, "CB"),
(58, "Stefan Savic", "Montenegro", 3, "CB"),
(59, "Yannick Carrasco", "Belgium", 3, "LW"),
(60, "Thomas Lemar", "France", 3, "LM"),
(61, "Fernando Muslera", "Uruguay", 4, "GK"),
(62, "Kerem Akturkoglu", "Turkey", 4, "LW"),
(63, "Sacha Boey", "France", 4, "RB"),
(64, "Victor Nelsson", "Denmark", 4, "CB"),
(65, "Abdülkerim Bardakci", "Turkey", 4, "CB"),
(66, "Altay Bayindir", "Turkey", 5, "GK"),
(67, "Michy Batshuayi", "Belgium", 5, "ST"),
(68, "Enner Valencia", "Ecuador", 5, "ST"),
(69, "Emre Mor", "Turkey", 5, "RW"),
(70, "Luan Peres", "Brazil", 5, "CB"),
(71, "Ersin Destanoğlu", "Turkey", 6, "GK"),
(72, "Valentin Rosier", "France", 6, "RB"),
(73, "Romain Saiss", "Morocco", 6, "CB"),
(74, "Arthur Masuaku", "DR Congo", 6, "LB"),
(75, "Dele Alli", "England", 6, "CAM"),
(76, "David de Gea", "Spain", 7, "GK"),
(77, "Harry Maguire", "England", 7, "CB"),
(78, "Luke Shaw", "England", 7, "LB"),
(79, "Casemiro", "Brazil", 7, "CDM"),
(80, "Jadon Sancho", "England", 7, "RW"),
(81, "Aaron Ramsdale", "England", 8, "GK"),
(82, "Gabriel Martinelli", "Brazil", 8, "LW"),
(83, "William Saliba", "France", 8, "CB"),
(84, "Ben White", "England", 8, "RB"),
(85, "Kieran Tierney", "Scotland", 8, "LB"),
(86, "Alisson Becker", "Brazil", 9, "GK"),
(87, "Fabinho", "Brazil", 9, "CDM"),
(88, "Jordan Henderson", "England", 9, "CM"),
(89, "Diogo Jota", "Portugal", 9, "LW"),
(90, "Andrew Robertson", "Scotland", 9, "LB"),
(91, "Ivan Rakitic", "Croatia", 10, "CM"),
(92, "Youssef En-Nesyri", "Morocco", 10, "ST"),
(93, "Jesus Navas", "Spain", 10, "RB"),
(94, "Lucas Ocampos", "Argentina", 10, "LW"),
(95, "Fernando", "Brazil", 10, "CDM"),
(96, "Jose Gaya", "Spain", 11, "LB"),
(97, "Carlos Soler", "Spain", 11, "CM"),
(98, "Maxi Gomez", "Uruguay", 11, "ST"),
(99, "Hugo Guillamon", "Spain", 11, "CB"),
(100, "Jasper Cillessen", "Netherlands", 11, "GK"),
(101, "Gerard Moreno", "Spain", 12, "ST"),
(102, "Pau Torres", "Spain", 12, "CB"),
(103, "Dani Parejo", "Spain", 12, "CM"),
(104, "Arnaut Danjuma", "Netherlands", 12, "LW"),
(105, "Raul Albiol", "Spain", 12, "CB"),
(106, "Nabil Fekir", "France", 13, "CAM"),
(107, "Sergio Canales", "Spain", 13, "CM"),
(108, "Borja Iglesias", "Spain", 13, "ST"),
(109, "Guido Rodriguez", "Argentina", 13, "CDM"),
(110, "Claudio Bravo", "Chile", 13, "GK"),
(111, "Marek Hamsik", "Slovakia", 14, "CM"),
(112, "Anthony Nwakaeme", "Nigeria", 14, "LW"),
(113, "Andreas Cornelius", "Denmark", 14, "ST"),
(114, "Edgar Ie", "Portugal", 14, "CB"),
(115, "Ugurcan Cakir", "Turkey", 14, "GK"),
(116, "Stefano Okaka", "Italy", 15, "ST"),
(117, "Nacer Chadli", "Belgium", 15, "LW"),
(118, "Mahmut Tekdemir", "Turkey", 15, "CDM"),
(119, "Serdar Gürler", "Turkey", 15, "RW"),
(120, "Mounir Chouiar", "Morocco", 15, "CAM"),
(121, "Haji Wright", "USA", 16, "ST"),
(122, "Fernando Martins", "Brazil", 16, "CM"),
(123, "Fredy", "Angola", 16, "CAM"),
(124, "Veysel Sari", "Turkey", 16, "CB"),
(125, "Adriano", "Brazil", 16, "LB"),
(126, "Max Gradel", "Ivory Coast", 17, "LW"),
(127, "Mustapha Yatabare", "Mali", 17, "ST"),
(128, "Faycal Fajr", "Morocco", 17, "CM"),
(129, "Aaron Appindangoye", "Gabon", 17, "CB"),
(130, "Ali Sasal Vural", "Turkey", 17, "GK"),
(131, "N'Golo Kante", "France", 18, "CDM"),
(132, "Mason Mount", "England", 18, "CAM"),
(133, "Kai Havertz", "Germany", 18, "CAM"),
(134, "Timo Werner", "Germany", 18, "ST"),
(135, "Edouard Mendy", "Senegal", 18, "GK"),
(136, "Kevin De Bruyne", "Belgium", 19, "CAM"),
(137, "Erling Haaland", "Norway", 19, "ST"),
(138, "Phil Foden", "England", 19, "LW"),
(139, "Riyad Mahrez", "Algeria", 19, "RW"),
(140, "Ruben Dias", "Portugal", 19, "CB"),
(141, "Harry Kane", "England", 20, "ST"),
(142, "Heung-min Son", "South Korea", 20, "LW"),
(143, "Pierre-Emile Hojbjerg", "Denmark", 20, "CDM"),
(144, "Hugo Lloris", "France", 20, "GK"),
(145, "Cristian Romero", "Argentina", 20, "CB"),
(146, "Jamie Vardy", "England", 21, "ST"),
(147, "James Maddison", "England", 21, "CAM"),
(148, "Wilfred Ndidi", "Nigeria", 21, "CDM"),
(149, "Youri Tielemans", "Belgium", 21, "CM"),
(150, "Kasper Schmeichel", "Denmark", 21, "GK"),
(151, "Paulo Dybala", "Argentina", 22, "CF"),
(152, "Federico Chiesa", "Italy", 22, "RW"),
(153, "Leonardo Bonucci", "Italy", 22, "CB"),
(154, "Wojciech Szczesny", "Poland", 22, "GK"),
(155, "Adrien Rabiot", "France", 22, "CM"),
(156, "Zlatan Ibrahimovic", "Sweden", 23, "ST"),
(157, "Theo Hernandez", "France", 23, "LB"),
(158, "Franck Kessie", "Ivory Coast", 23, "CM"),
(159, "Rafael Leao", "Portugal", 23, "LW"),
(160, "Mike Maignan", "France", 23, "GK"),
(161, "Lautaro Martinez", "Argentina", 24, "ST"),
(162, "Nicolo Barella", "Italy", 24, "CM"),
(163, "Milan Skriniar", "Slovakia", 24, "CB"),
(164, "Samir Handanovic", "Slovenia", 24, "GK"),
(165, "Stefan de Vrij", "Netherlands", 24, "CB"),
(166, "Tammy Abraham", "England", 25, "ST"),
(167, "Nicolo Zaniolo", "Italy", 25, "CAM"),
(168, "Lorenzo Pellegrini", "Italy", 25, "CM"),
(169, "Chris Smalling", "England", 25, "CB"),
(170, "Rui Patricio", "Portugal", 25, "GK"),
(171, "Victor Osimhen", "Nigeria", 26, "ST"),
(172, "Piotr Zielinski", "Poland", 26, "CM"),
(173, "Kalidou Koulibaly", "Senegal", 26, "CB"),
(174, "David Ospina", "Colombia", 26, "GK"),
(175, "Hirving Lozano", "Mexico", 26, "RW"),
(176, "Thomas Muller", "Germany", 27, "CAM"),
(177, "Joshua Kimmich", "Germany", 27, "CDM"),
(178, "Manuel Neuer", "Germany", 27, "GK"),
(179, "Serge Gnabry", "Germany", 27, "RW"),
(180, "Robert Lewandowski", "Poland", 27, "ST"),
(181, "Marco Reus", "Germany", 28, "CAM"),
(182, "Jude Bellingham", "England", 28, "CM"),
(183, "Mats Hummels", "Germany", 28, "CB"),
(184, "Gregor Kobel", "Switzerland", 28, "GK"),
(185, "Erling Haaland", "Norway", 28, "ST"),
(186, "Christopher Nkunku", "France", 29, "CAM"),
(187, "Yussuf Poulsen", "Denmark", 29, "ST"),
(188, "Emil Forsberg", "Sweden", 29, "LW"),
(189, "Willi Orban", "Hungary", 29, "CB"),
(190, "Peter Gulacsi", "Hungary", 29, "GK"),
(191, "Patrik Schick", "Czech Republic", 30, "ST"),
(192, "Florian Wirtz", "Germany", 30, "CAM"),
(193, "Moussa Diaby", "France", 30, "RW"),
(194, "Jonathan Tah", "Germany", 30, "CB"),
(195, "Lukas Hradecky", "Finland", 30, "GK"),
(196, "Lars Stindl", "Germany", 31, "CAM"),
(197, "Marcus Thuram", "France", 31, "ST"),
(198, "Alassane Plea", "France", 31, "LW"),
(199, "Matthias Ginter", "Germany", 31, "CB"),
(200, "Yann Sommer", "Switzerland", 31, "GK");

    
-- PlayerStats tablosunun oluşturulması ve verilerin eklenmesi
CREATE TABLE PlayerStats (
  PlayerID INT,
  Goal INT,
  Assist INT,
  PValue VARCHAR(255),
  Injury VARCHAR(255),
  FOREIGN KEY (PlayerID) REFERENCES Player(PlayerID)
);

SELECT * FROM Team;


INSERT INTO PlayerStats (PlayerID, Goal, Assist, PValue, Injury)
VALUES
(1, 4, 3, "100M$", "None"),
(11, 5, 2, "150M$", "None"),
(16, 3, 0, "30M$", "AnkleFracture"),
(21, 1, 1, "12M$", "None"),
(23, 2, 1, "5M$", "ACLInjury"),
(26, 4, 5, "65M$", "None"),
(29, 0, 1, "800K$", "HamstringInjury"),
(20, 3, 3, "20M$", "None"),
(42, 4, 0, "90M$", "None"),
(36, 1, 4, "120M$", "KneeInjury");

-- Matches tablosunun oluşturulması ve verilerin eklenmesi
CREATE TABLE Matches (
  MatchID INT PRIMARY KEY AUTO_INCREMENT,
  MDate DATE,
  WinnerID INT,
  LoserID INT,
  MatchResult VARCHAR(255),
  LeagueID INT,
  FOREIGN KEY (WinnerID) REFERENCES Team(TeamID),
  FOREIGN KEY (LoserID) REFERENCES Team(TeamID),
  FOREIGN KEY (LeagueID) REFERENCES League(LeagueID)
);

INSERT INTO Matches (MatchID, MDate, WinnerID, LoserID, MatchResult, LeagueID)
VALUES
(1, "2024-11-01", 1, 3, "3-2", 1),
(2, "2024-06-18", 2, 3, "5-2", 1),
(3, "2024-07-19", 1, 2, "2-0", 1),
(4, "2024-10-24", 4, 5, "5-1", 2),
(5, "2024-12-30", 4, 6, "1-0", 2),
(6, "2024-01-02", 5, 6, "3-1", 2),
(7, "2024-01-19", 8, 7, "4-0", 3),
(8, "2024-04-04", 9, 7, "6-2", 3),
(9, "2024-11-14", 8, 9, "1-0", 3);

CREATE TABLE Manager (
  ManagerID INT PRIMARY KEY AUTO_INCREMENT,
  FName VARCHAR(255) NOT NULL,
  LName VARCHAR(255) NOT NULL,
  TeamID INT,
  FOREIGN KEY (TeamID) REFERENCES Team(TeamID)
);

INSERT INTO Manager (ManagerID, FName, LName, TeamID)
VALUES
(1, "Carlo", "Ancelotti", 1),
(2, "Xavier", "Hernandez", 2),
(3, "Diego", "Simeone", 3),
(4, "Okan", "Buruk", 4),
(5, "Ismail", "Kartal", 5),
(6, "Fernando", "Santos", 6),
(7, "Erik", "ten Hag", 7),
(8, "Mikel", "Arteta", 8),
(9, "Jurgen", "Klopp", 9),
(10, "Julen", "Lopetegui", 10),
(11, "Ruben", "Baraja", 11),
(12, "Quique", "Setien", 12),
(13, "Manuel", "Pellegrini", 13),
(14, "Nenad", "Bjelica", 14),
(15, "Emre", "Belozoglu", 15),
(16, "Nuri", "Sahin", 16),
(17, "Riza", "Calimbay", 17),
(18, "Mauricio", "Pochettino", 18),
(19, "Pep", "Guardiola", 19),
(20, "Antonio", "Conte", 20),
(21, "Brendan", "Rodgers", 21),
(22, "Massimiliano", "Allegri", 22),
(23, "Stefano", "Pioli", 23),
(24, "Simone", "Inzaghi", 24),
(25, "Jose", "Mourinho", 25),
(26, "Rudi", "Garcia", 26),
(27, "Thomas", "Tuchel", 27),
(28, "Edin", "Terzic", 28),
(29, "Marco", "Rose", 29),
(30, "Xabi", "Alonso", 30),
(31, "Daniel", "Farke", 31),
(32, "Christophe", "Galtier", 32),
(33, "Laurent", "Blanc", 33),
(34, "Igor", "Tudor", 34),
(35, "Paulo", "Fonseca", 35),
(36, "Philippe", "Clement", 36),
(37, "Sergio", "Conceicao", 37),
(38, "Roger", "Schmidt", 38),
(39, "Ruben", "Amorim", 39),
(40, "Artur", "Jorge", 40),
(41, "John", "Heitinga", 41),
(42, "Peter", "Bosz", 42),
(43, "Arne", "Slot", 43),
(44, "Pascal", "Jansen", 44),
(45, "Dorival", "Junior", 45),
(46, "Abel", "Ferreira", 46),
(47, "Odair", "Hellmann", 47),
(48, "Vitor", "Pereira", 48),
(49, "Jorge", "Almiron", 49),
(50, "Martin", "Demichelis", 50);

-- İstenen SELECT sorgusu
SELECT 
    Player.PlayerID, 
    Player.PlayerName, 
    Player.TeamID, 
    Player.Position, 
    Player.Nation AS Nationality, 
    PlayerStats.PValue
FROM 
    Player
JOIN 
    PlayerStats ON Player.PlayerID = PlayerStats.PlayerID;
    
    SELECT * FROM Player;

	SELECT * FROM Team;
    
    SELECT * FROM League;
    
SET SQL_SAFE_UPDATES = 0;

-- Tüm verileri sil
DELETE FROM Player;

-- Safe Update Mode'u tekrar etkinleştir (isteğe bağlı)
SET SQL_SAFE_UPDATES = 1;

